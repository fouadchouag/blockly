<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>

    <script src = "../blockly_compressed.js" > </script> <script src = "../blocks_compressed.js" > </script>
    <!-- <script src = "../msg.js" > </script> -->
    <script src = "../javascript_compressed.js" > </script>
    <script src= "customblock.js"></script>
    <style>
      body{
        background-color: #fff;
        font-family: sans-serif;
      }
      h1{
        font-weight: normal;
        font-size: 140%;
      }

      #switch{
      height: 300px;
      width: 300px;
      border-radius: 50%;
      background-color: white;
      border: solid 1px black ;
      position: absolute;
      left: 760px;
      top: 110px;
      }
    </style>
      <body>
        <button type="button" name="button" onclick="runCode()">run JavaScript</button>
<div id="blocklyDiv" style="width:600px ; height:480px"> </div>

    <!-- <xml id = "toolbox" style = " display : none " >  -->

  <xml  id="toolbox" style="display: none">


           <category name="logic">
              <block type="lightswitch">
              <field name="lightcolor">red</field>
              <field name="switch">on</field>
              </block>
            </category>
    </xml>
    <div id="switch"></div>
  </div>
  <script>
    var workspace = Blockly.inject('blocklyDiv',
        {toolbox: document.getElementById('toolbox')});

        function runCode() {
             // Generate JavaScript code and run it.
             window.LoopTrap = 1000;
             Blockly.JavaScript.INFINITE_LOOP_TRAP =
                 'if (--window.LoopTrap == 0) throw "Infinite loop.";\n';
             var code = Blockly.JavaScript.workspaceToCode(workspace);
             Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
             try {
               eval(code);
             } catch (e) {
               alert(e);
             }
           }



  </script>


  </body>
</html>
